functions:
  - http-error-code-reference
  - assert-http-codes-for-operation

rules:
  bpi-http-error-code-reference:
    description: HTTP Code erros response MUST reference designLibrary/error-block-(httpCode).
    message: "{{error}}"
    documentationUrl: https://bancobpi.stoplight.io/docs/style-guide/a5e10d9420432-status-code#bpi-http-error-code-reference
    severity: error
    given: $.paths..responses[?( @property >= 400 && @property <= 500)].content.application/json.schema.*
    resolved: false
    then:
      function: http-error-code-reference

